<html>
<script>

var chars=[[
['1','2','3','4','5','6','7','8','9','0'],
['q','w','e','r','t','y','u','i','o','p'],
['a','s','d','f','g','h','j','k','l',';'],
['z','x','c','v','b','n','m',',','.','/']
],[
['!','@','#','$','%','^','&','*','(',')'],
['Q','W','E','R','T','Y','U','I','O','P'],
['A','S','D','F','G','H','J','K','L',':'],
['Z','X','C','V','B','N','M','<','>','?']
]];

//length: >=4
//strength: 0-10?
function genPass(len,str){
	var password="";

	for(var i=0;i<len-1;i++){
		character=getChar();
		password+=character;
	}
	password+=genChar();

	return password;
}

function genChar(len, lastX){
	if(len==0){return "";}
	var x=(Math.random()*10)|0;
	var y=(Math.random()*4)|0;
	var shifted=(Math.pow(Math.random(),3)*2)|0;
	var character=chars[shifted][y][x];
	if((x==lastX)  ||  (((lastX==3)||(lastX==5))&&x==lastX+1)  ||  (((lastX==4)||(lastX==6))&&x==lastX-1)  ||  (len==1&&x==9)){
		character=genChar(1,lastX);
	}
	return character+genChar(len-1,x);
}

//RULES:
//no repeated use of fingers
//last char is not typed by right pinky, because last key is technically enter
//weight chars by finger strength, distance travelled by finger to reach

//capital chars <=[4] require right pinky, >=[5] left pinky, so key requiring this cannot come after, unless it just requires same shift key which does not add time
//all passwords require 1 capChar[0], 1 capChar[1-3], 1 char[0]

</script>
</html>